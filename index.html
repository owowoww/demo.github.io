<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
    <title>Test</title>
  </head>
  <body>
    <h2 style="color: #ffffff;background-color: #0074e0; line-height: 50px;" align="center" >產量推估－雨量</h2>
    <button type="button" class="btn btn-primary" onclick="chagneTxt(this)">rain</button>
    <button type="button" class="btn btn-primary" onclick="chagneTxt(this)">temperature</button>
    <button type="button" class="btn btn-primary" onclick="chagneTxt(this)">reset</button>
    <div id="main" style="width: 600px; height: 400px;text-align:center;margin:0 auto;"></div>
    <div class="slidecontainer" style="line-height: 60px;text-align:center;vertical-align:top;" >
      <input
        type="range"
        id="bar"
        min="0"
        max="180"
        value="50"
        class="slider"
        id="myRange"
        onChange="changePlot(event)"
        style="width: 485px;"
      />
      <!-- onChange新增事件處理器，當拉霸數值改變時觸發changePlot這個函式 -->
      <!-- style是用來把拉霸的寬度對上上面的圖 -->
    </div>

    <style>
        .slidecontainer {
          width: 100%;
        }
    
        .slider {
          -webkit-appearance: none;
          width: 50%;
          height: 15px;
          border-radius: 5px;
          background: #d3d3d3;
          outline: none;
          opacity: 0.7;
          -webkit-transition: 0.2s;
          transition: opacity 0.2s;
        }
    
        .slider:hover {
          opacity: 1;
        }
    
        .slider::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 25px;
          height: 25px;
          border-radius: 50%;
          background: #0074e0;
          cursor: pointer;
        }
      </style>

    <style type="text/css">
      .tg  {border-collapse:collapse;border-spacing:0;}
      .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
        font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
      .tg .tg-9x6m{border-top-left-radius: 15px;background-color:#96c4f0;border:none;color:#000000;text-align:left;vertical-align:top}
      .tg .tg-v23m{background-color:#96c4f0;border:none;color:#000000;text-align:left;vertical-align:middle}
      .tg .tg-v24m{border-bottom-right-radius: 10px;background-color:#96c4f0;border:none;color:#000000;text-align:left;vertical-align:middle}
      .tg .tg-g8gk{background-color:#96c4f0;border:none;color:#000000;text-align:center;vertical-align:middle}  
      .tg .tg-g8a4{border-top-right-radius: 10px;background-color:#96c4f0;border:none;color:#000000;text-align:center;vertical-align:middle}  

        /*第一欄最後列：左下*/
        tr:last-child td:first-child{
        border-bottom-left-radius: 10px;
        }
        /*最後欄第一列：右下*/
        tr:last-child td:last-child{
        border-bottom-right-radius: 10px;
        }
     </style>

    <div id='sheet' style="width: 600px; height: 400px;text-align:center;margin:0 auto;">
      <table 
        class="tg" 
        onchange="mytable(event)" 
        style="width: 485px; margin-left: 60px;">
      <thead>
        <tr>
          <th class="tg-9x6m" colspan="2">🌡️ 溫度：</th>
          <th class="tg-g8a4" colspan="2">今天：</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="tg-v23m">　前一天高溫：</td>
          <th class="tg-v23m" v-for="max_temps in max_temp"> {{max_temps}}</th>
          <td class="tg-g8gk" colspan="2" rowspan="5" v-for="todays in today">{{todays}}</td>
        </tr>
        <tr>
          <td class="tg-v23m">　前一天低溫：</td>
          <th class="tg-v23m" v-for="min_temps in min_temp">{{min_temps}}</th>
        </tr>
        <tr>
          <td class="tg-v23m" colspan="2">☀️ 光照：</td>
        </tr>
        <tr>
          <td class="tg-v23m">　前一天光照值：</td>
          <th class="tg-v23m" v-for="solars in solar">{{solars}}</th>
        </tr>
        <tr>
          <td class="tg-v23m">　累積光照：</td>
          <th class="tg-v23m" v-for="all_solars in all_solar">{{all_solars}}</th>
        </tr>
        <tr>
          <td class="tg-v23m" colspan="2">🌧️累積雨量：</td>
          <td class="tg-v23m">模擬採收日：</td>
          <th class="tg-v23m" v-for="simulations in simulation">{{simulations}}</th>
        </tr>
        <tr>
          <td class="tg-v23m">　前一天降雨量：</td>
          <th class="tg-v23m" v-for="rains in rain">{{rains}}</th>
          <td class="tg-v23m">預估收穫日：</td>
          <th class="tg-v23m" v-for="estimates in estimate">{{estimates}}</th>
        </tr>
        <tr>
          <td class="tg-v23m">　累積雨量：</td>
          <th class="tg-v23m" v-for="all_rains in all_rain">{{all_rains}}</th>
          <td class="tg-v23m">種植時長：</td>
          <th class="tg-v24m" v-for="lengths in length">{{lengths}}</th>
        </tr>
      </tbody>
    </div>
    <script type="text/javascript">
      var mybar = document.getElementById("bar").value; //拉霸的值
      var chartDom = document.getElementById("main");
      var myChart = echarts.init(chartDom);
      var option;
      var outerData = {
        max_temp: [
        ],
        min_temp: [
        ],
        solar: [
        ],
        all_solar: [
        ],
        simulation: [
        ],
        rain: [
        ],
        estimate: [
        ],
        all_rain: [
        ],
        length: [
        ],
        today:[
        ],
      }      
      var sheet = new Vue({
      el: "#sheet", 
      data: outerData
      });

      const harvest_amounts = [
        100, 100, 99.98, 99.98, 99.98, 99.98, 99.98, 99.98, 99.98, 99.98, 99.98,
        99.98, 99.98, 99.98, 99.98, 99.98, 99.88, 99.35, 98.61, 97.85, 96.69,
        96.29, 94.61, 93.2, 92.6, 91.51, 90.87, 89.53, 89.15, 88.52, 88.11,
        88.72, 87.89, 86.43, 86.79, 85.84, 86.26, 86.25, 85.62, 85.56, 85.6,
        86.24, 86.25, 86.24, 86.25, 85.63, 85.59, 84.9, 84.2, 83.15, 82.96,
        82.77, 82.35, 83.11, 83.11, 83.11, 82.95, 81.74, 81.37, 81.56, 81.54,
        80.65, 80.84, 81.49, 81.51, 81.53, 81.53, 81.45, 81.49, 81.43, 81.37,
        81.43, 81.33, 80.56, 79.2, 79.19, 80.07, 79.76, 79.93, 79.59, 78.71,
        78.75, 78.77, 78.78, 78.79, 78.8, 77.89, 77.66, 77.66, 77.63, 78.13,
        77.87, 75.64, 75.32, 73.18, 71.79, 66.97, 66.29, 66.31, 62.63, 62.16,
        61.75, 61.3, 61.83, 61.85, 61.82, 61.57, 61.53, 61.51, 61.2, 60.96,
        61.09, 61.24, 61.3, 61.23, 61.27, 61.4, 61.45, 61.67, 61.82, 61.96,
        62.1, 62.24, 62.42, 62.62, 62.65, 57.86, 57.12, 57.05, 57.05, 57.05,
        57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05,
        57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05,
        57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05,
        57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05,
        57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05, 57.05
      ];

      const alert_values = [
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,
        80
      ];

      const my_max_temp =[9449.86,9414.61,8607.36,9195.12,8996.46,8459.48,8844.41,8247.98,9405.24,7971.93,8685.62,8468.85,8438.74,8839.41,9074.74,9196.69,8649.8,8790.33,8810.08,9519.2,8099.82,7695.42,8307.19,7480.95,8645.27,8890.93,7482.5,8295.12,7612.01,7581.95,8604.2,8136.09,8291.81,6856.32,7531.41,7540.69,7625.06,7871.9,7890.62,7485.89,8103.85,7319.37,7218.77,8374.22,8420.53,8110.38,8152.21,8162.34,7727.27,6642.86,7517.65,7636.79,6660.35,7880.5,7189.45,7676.98,7728.09,6476.38,6872.05,7129.69,7033.27,6592.24,7029.25,7137.83,6585.98,6609.97,6994.23,7493.76,6902.86,7630.15,7447.71,6748.61,6629.25,6465.49,6181.09,6918.07,6235.7,6923.74,7037.4,6648.52,6117.88,6518.09,5782.82,6741.04,6500.38,6084.19,5723.66,5816.2,5776.67,5957.09,6092.17,6369.84,6461.32,6112.72,4918.83,5470.54,4505.56,4319.69,4427.4,4700.38,4411.29,4494.6,4728.19,4739.56,4597.12,4480,3911.98,3893.96,4036.09,4155.21,3841.95,4233.74,4495.15,3830.5,3902.7,4222.52,3926.73,3852.42,4139.9,4107.11,4370.03,4092.99,4566.69,4077.65,4022.66,4158.04,3615.1,3799.38,3777.41,3840.7,3792.83,3321.43,3397.5,3760.36,3240.75,3768.37,3198.95,3320.78,3536.87,3214.61,3393.58,3227.95,3842.06,3165.23,3687.59,3227.8,3566.73,3358.11,3140.84,3494.05,3829.08,3285.11,3591.68,3392.4,3222.18,3691.75,3835.1,3572.11,3492.82,3285.27,3602.92,3549.64,3307.09,3336.23,3297.52,3425.49,3851.72,3176.46,3296.85,3194.07,3637.75,3655.82,3476.13,3147.83,3691.98,3823.43,3142.89,3820.9,3384,3723.55,3854.59];
      const my_min_temp =[7731.49,8194.51,7773.04,7373.94,7189.55,7513.32,8235.14,7327.29,7344.21,8044.61,8053.32,7745.46,7944.54,7933.27,7637.54,8026.54,7692.05,8137.51,8190.18,7478.15,8041.33,7457.65,7594.68,7234.23,7484.94,7372.46,7561.91,7765.57,7828.7,7813.16,7153.09,7321.46,7637.22,7668.8,7713.27,7280.58,7380.36,7173.04,7305.05,7644.85,7461.78,7325.45,7237.57,7609.2,7400.73,7150.5,7454.72,7207.26,7286.69,7571.91,7423.64,7517.95,7509.57,7191.21,7361.35,7463.47,7320.61,7340.22,7149.21,7232.59,7154.19,7263.49,7500.19,7493.34,7429.3,7442.33,7609.61,7247.77,7458.5,7275.38,7494.75,7510.36,7489.01,7437.63,7397.24,7490.31,7381.15,7597,7612.18,7325.12,7555.44,7360.83,7512.49,7454.08,7411.02,7455.17,7584.24,7407.26,7462.53,7463.3,7251.6,7247.72,7115.83,7055.95,7160.93,7128.07,7278.78,7305.63,7215.62,7288.65,7272.01,7301.72,7290.2,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98,7348.98];
      const my_solar =[3,20.3,18.3,10,9.3,9.9,11,9.5,9.9,10.1,10.6,16.5,4.1,15.1,17.8,20.8,18.9,18.7,19.5,21.4,21.1,22.9,23.3,21.2,19.6,16.2,21.7,21.4,22.8,21.1,11.2,16.6,22,18.6,22.8,8.6,14.1,0.1,14.1,4.2,20.7,23.8,22.4,10.8,11.7,15.1,18.2,19.4,22.2,17.5,23.9,23.8,23.6,13,12.4,11.7,18.1,20.6,9.1,16.2,17.7,7,6.8,23.6,18.3,22.1,24.9,9,24,30.4,0.1,0.1,28.3,28.1,0.1,15.9,23.8,0.1,15.6,0.1,0.1,0.1,0.1,9.6,24.7,29,28.3,0.1,0.1,27.1,28.3,24.6,0.1,0.1,0.1,0.1,27.4,0.1,12.6,26.1,23.7,28.3,0.1,0.1,8.9,0.1,18.8,0.1,0.1,7,23.6,22.9,9.2,6.8,9.3,18.1,22.2,20.1,28.3,27.1,0.1,0.1,0.1,19.3,11,4.8,0.1,21,11.4,15.9,24,18.9,26.6,28.4,27.5,3.5,28.3,25.3,19.5,25.5,26.2,24.8,24.8,17.2,25.4,28.1,25.4,21.2,17.6,18.9,20.5,26,26.3,18.8,24.5,24.2,19.4,23.4,28.5,0.1,28.7,25.6,12.7,10.2,26.4,29.6,25.4,27.2,28.2,25.1,25.9,25,14.7,18.1,20.3,0.1,19.2,12,24.9,20.9,14.1];
      const my_all_solar =[3,20.3,18.3,10,9.3,9.9,11,9.5,9.9,10.1,10.6,16.5,4.1,15.1,17.8,20.8,18.9,18.7,19.5,21.4,21.1,22.9,23.3,21.2,19.6,16.2,21.7,21.4,22.8,21.1,11.2,16.6,22,18.6,22.8,8.6,14.1,0.1,14.1,4.2,20.7,23.8,22.4,10.8,11.7,15.1,18.2,19.4,22.2,17.5,23.9,23.8,23.6,13,12.4,11.7,18.1,20.6,9.1,16.2,17.7,7,6.8,23.6,18.3,22.1,24.9,9,24,30.4,0.1,0.1,28.3,28.1,0.1,15.9,23.8,0.1,15.6,0.1,0.1,0.1,0.1,9.6,24.7,29,28.3,0.1,0.1,27.1,28.3,24.6,0.1,0.1,0.1,0.1,27.4,0.1,12.6,26.1,23.7,28.3,0.1,0.1,8.9,0.1,18.8,0.1,0.1,7,23.6,22.9,9.2,6.8,9.3,18.1,22.2,20.1,28.3,27.1,0.1,0.1,0.1,19.3,11,4.8,0.1,21,11.4,15.9,24,18.9,26.6,28.4,27.5,3.5,28.3,25.3,19.5,25.5,26.2,24.8,24.8,17.2,25.4,28.1,25.4,21.2,17.6,18.9,20.5,26,26.3,18.8,24.5,24.2,19.4,23.4,28.5,0.1,28.7,25.6,12.7,10.2,26.4,29.6,25.4,27.2,28.2,25.1,25.9,25,14.7,18.1,20.3,0.1,19.2,12,24.9,20.9,14.1];
      const my_simulation =[2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-18,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-19,2020-06-18,2020-06-18,2020-06-18,2020-06-17,2020-06-17,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-15,2020-06-15,2020-06-15,2020-06-16,2020-06-16,2020-06-16,2020-06-16,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-14,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-15,2020-06-14,2020-06-14,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-13,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12,2020-06-12];
      const my_rain =[0,0.5,0,1.2,1.8,0.8,0,1.4,0.9,1.2,1.5,0,0,0.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,26,0,0,0,4,0.5,0,0,0,1,0,0,0,0,0,0,0,0,2,2.3,0,0,0,6.5,0,0,2.5,10.5,6.5,0,0,0,2.5,3,0,0,0,0,0,0,0,0,0,0,7.5,7,0,0.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1.5,0,0,0,0,0,11.5,0,10,38,0.5,33.5,48.5,8.5,0,0,64.5,47.5,47,4.5,0,0,0,0,0,0,0,0,6.5,18,21.5,0,18.5,0,0.5,68,0.5,0.5,0,0,0,0,0,0,0,0,0,22.5,0,0,0,0,11,3,2,0,0,4,0,0,0,0,0,0,0,0,0,1.5,1.5,0,0.5,3,0,0,0,0,0,17.5,4,17.5,0,0,0,4,24.5];
      const my_estimate =[2020-02-04,2020-02-05,2020-02-06,2020-02-07,2020-02-08,2020-02-09,2020-02-10,2020-02-11,2020-02-12,2020-02-13,2020-02-14,2020-02-15,2020-02-16,2020-02-17,2020-02-18,2020-02-19,2020-02-20,2020-02-21,2020-02-22,2020-02-23,2020-02-24,2020-02-25,2020-02-26,2020-02-27,2020-02-28,2020-03-01,2020-03-02,2020-03-03,2020-03-04,2020-03-05,2020-03-06,2020-03-07,2020-03-08,2020-03-09,2020-03-10,2020-03-11,2020-03-12,2020-03-13,2020-03-14,2020-03-15,2020-03-16,2020-03-17,2020-03-18,2020-03-19,2020-03-20,2020-03-21,2020-03-22,2020-03-23,2020-03-24,2020-03-25,2020-03-26,2020-03-27,2020-03-28,2020-03-29,2020-03-30,2020-03-31,2020-04-01,2020-04-02,2020-04-03,2020-04-04,2020-04-05,2020-04-06,2020-04-07,2020-04-08,2020-04-09,2020-04-10,2020-04-11,2020-04-12,2020-04-13,2020-04-14,2020-04-15,2020-04-16,2020-04-17,2020-04-18,2020-04-19,2020-04-20,2020-04-21,2020-04-22,2020-04-23,2020-04-24,2020-04-25,2020-04-26,2020-04-27,2020-04-28,2020-04-29,2020-04-30,2020-05-01,2020-05-02,2020-05-03,2020-05-04,2020-05-05,2020-05-06,2020-05-07,2020-05-08,2020-05-09,2020-05-10,2020-05-11,2020-05-12,2020-05-13,2020-05-14,2020-05-15,2020-05-16,2020-05-17,2020-05-18,2020-05-19,2020-05-20,2020-05-21,2020-05-22,2020-05-23,2020-05-24,2020-05-25,2020-05-26,2020-05-27,2020-05-28,2020-05-29,2020-05-30,2020-05-31,2020-06-01,2020-06-02,2020-06-03,2020-06-04,2020-06-05,2020-06-06,2020-06-07,2020-06-08,2020-06-09,2020-06-10,2020-06-11,2020-06-12,2020-06-13,2020-06-14,2020-06-15,2020-06-16,2020-06-17,2020-06-18,2020-06-19,2020-06-20,2020-06-21,2020-06-22,2020-06-23,2020-06-24,2020-06-25,2020-06-26,2020-06-27,2020-06-28,2020-06-29,2020-06-30,2020-07-01,2020-07-02,2020-07-03,2020-07-04,2020-07-05,2020-07-06,2020-07-07,2020-07-08,2020-07-09,2020-07-10,2020-07-11,2020-07-12,2020-07-13,2020-07-14,2020-07-15,2020-07-16,2020-07-17,2020-07-18,2020-07-19,2020-07-20,2020-07-21,2020-07-22,2020-07-23,2020-07-24,2020-07-25,2020-07-26,2020-07-27,2020-07-28,2020-07-29,2020-07-30,2020-07-31,2020-08-01,2020-08-02,2020-08-03];
      const my_all_rain =[0,0.5,0,1.2,1.8,0.8,0,1.4,0.9,1.2,1.5,0,0,0.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,26,0,0,0,4,0.5,0,0,0,1,0,0,0,0,0,0,0,0,2,2.3,0,0,0,6.5,0,0,2.5,10.5,6.5,0,0,0,2.5,3,0,0,0,0,0,0,0,0,0,0,7.5,7,0,0.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1.5,0,0,0,0,0,11.5,0,10,38,0.5,33.5,48.5,8.5,0,0,64.5,47.5,47,4.5,0,0,0,0,0,0,0,0,6.5,18,21.5,0,18.5,0,0.5,68,0.5,0.5,0,0,0,0,0,0,0,0,0,22.5,0,0,0,0,11,3,2,0,0,4,0,0,0,0,0,0,0,0,0,1.5,1.5,0,0.5,3,0,0,0,0,0,17.5,4,17.5,0,0,0,4,24.5];
      const my_length =[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181];
      const my_today =[2020-02-04,2020-02-05,2020-02-06,2020-02-07,2020-02-08,2020-02-09,2020-02-10,2020-02-11,2020-02-12,2020-02-13,2020-02-14,2020-02-15,2020-02-16,2020-02-17,2020-02-18,2020-02-19,2020-02-20,2020-02-21,2020-02-22,2020-02-23,2020-02-24,2020-02-25,2020-02-26,2020-02-27,2020-02-28,2020-03-01,2020-03-02,2020-03-03,2020-03-04,2020-03-05,2020-03-06,2020-03-07,2020-03-08,2020-03-09,2020-03-10,2020-03-11,2020-03-12,2020-03-13,2020-03-14,2020-03-15,2020-03-16,2020-03-17,2020-03-18,2020-03-19,2020-03-20,2020-03-21,2020-03-22,2020-03-23,2020-03-24,2020-03-25,2020-03-26,2020-03-27,2020-03-28,2020-03-29,2020-03-30,2020-03-31,2020-04-01,2020-04-02,2020-04-03,2020-04-04,2020-04-05,2020-04-06,2020-04-07,2020-04-08,2020-04-09,2020-04-10,2020-04-11,2020-04-12,2020-04-13,2020-04-14,2020-04-15,2020-04-16,2020-04-17,2020-04-18,2020-04-19,2020-04-20,2020-04-21,2020-04-22,2020-04-23,2020-04-24,2020-04-25,2020-04-26,2020-04-27,2020-04-28,2020-04-29,2020-04-30,2020-05-01,2020-05-02,2020-05-03,2020-05-04,2020-05-05,2020-05-06,2020-05-07,2020-05-08,2020-05-09,2020-05-10,2020-05-11,2020-05-12,2020-05-13,2020-05-14,2020-05-15,2020-05-16,2020-05-17,2020-05-18,2020-05-19,2020-05-20,2020-05-21,2020-05-22,2020-05-23,2020-05-24,2020-05-25,2020-05-26,2020-05-27,2020-05-28,2020-05-29,2020-05-30,2020-05-31,2020-06-01,2020-06-02,2020-06-03,2020-06-04,2020-06-05,2020-06-06,2020-06-07,2020-06-08,2020-06-09,2020-06-10,2020-06-11,2020-06-12,2020-06-13,2020-06-14,2020-06-15,2020-06-16,2020-06-17,2020-06-18,2020-06-19,2020-06-20,2020-06-21,2020-06-22,2020-06-23,2020-06-24,2020-06-25,2020-06-26,2020-06-27,2020-06-28,2020-06-29,2020-06-30,2020-07-01,2020-07-02,2020-07-03,2020-07-04,2020-07-05,2020-07-06,2020-07-07,2020-07-08,2020-07-09,2020-07-10,2020-07-11,2020-07-12,2020-07-13,2020-07-14,2020-07-15,2020-07-16,2020-07-17,2020-07-18,2020-07-19,2020-07-20,2020-07-21,2020-07-22,2020-07-23,2020-07-24,2020-07-25,2020-07-26,2020-07-27,2020-07-28,2020-07-29,2020-07-30,2020-07-31,2020-08-01,2020-08-02,2020-08-03];

      let base = new Date(2020, 2, 4);
      let oneDay = 24 * 60 * 60 * 1000;
      let date = [];
      let data = [Math.random()];

      for (let i = 1; i < 182; i++) {
        var now = new Date((base += oneDay));
        date.push([now.getFullYear(), now.getMonth(), now.getDate()].join("/"));
      }

      option = {
        color: ["grey", "red"],
        tooltip: {
          trigger: "axis"
        },

        legend: {},
        xAxis: {
          type: "category",
          boundaryGap: false,
          data: date
        },
        yAxis: {
          type: "value",
          axisLabel: {
            formatter: "{value} %"
          }
        },

        series: [
          {
            name: "模擬產量", //harvest
            type: "line",
            data: [],
            markPoint: {
              data: [
                { type: "max", name: "Max" },
                { type: "min", name: "Min" }
              ]
            },
            markLine: {
                symbol: ['none'],
                label: { show: false },
                lineStyle:{
                        type:'solid',
                        color: '#0074e0',
                        width: 1.5
                    },
                data: [{ xAxis:[] }]
            },
          },
          {
            name: "產量損失警戒線", //alert
            type: "line",
            data: []
          }
        ]
      };
      function changePlot(event) {
        let range_bar_value = Number(event.target.value);
        option.series[0].markLine.data[0].xAxis = range_bar_value;
        option.series[0].data = harvest_amounts.slice(0, range_bar_value+1);
        option.series[1].data = new Array(range_bar_value).concat(alert_values.slice(range_bar_value, 180));
        outerData.max_temp = my_max_temp.slice(range_bar_value,range_bar_value+1);
        outerData.min_temp = my_min_temp.slice(range_bar_value,range_bar_value+1);
        outerData.solar = my_solar.slice(range_bar_value,range_bar_value+1);
        outerData.all_solar = my_all_solar.slice(range_bar_value,range_bar_value+1);
        outerData.max_temp = my_max_temp.slice(range_bar_value,range_bar_value+1);
        outerData.simulation = my_simulation.slice(range_bar_value,range_bar_value+1);
        outerData.rain = my_rain.slice(range_bar_value,range_bar_value+1);
        outerData.estimate = my_estimate.slice(range_bar_value,range_bar_value+1);
        outerData.all_rain = my_all_rain.slice(range_bar_value,range_bar_value+1);
        outerData.length = my_length.slice(range_bar_value,range_bar_value+1);
        outerData.today = my_today.slice(range_bar_value,range_bar_value+1);
        option && myChart.setOption(option);
      }
      //頁面載入時預先繪圖，50為拉霸的預設值
      changePlot({ target: { value: 50 } });

    
    </script>

  </body>
</html>
